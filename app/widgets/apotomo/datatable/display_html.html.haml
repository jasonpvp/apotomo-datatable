-if @model

  %table{:id=>@options[:template][:id],:class=>"display"}<>
    -if @options[:template][:header]
      %thead<>
        =render({:state=>:head_foot},@options[:template][:header]);
    %tbody<>
      -if !@options[:plugin][:sAjaxSource] and !@options[:plugin][:aaData]
        -@model.find(:all).each do |item|
          %tr<>
            -item.attributes.each do |key,value|
              %td<> =value
    -if @options[:template][:footer]
      %tfoot<>
        =render({:state=>:head_foot},@options[:template][:header]);

  -if !@options[:params][:format]
    :javascript
      postInit(function() {
        #{@init_datatable_js}
      });

